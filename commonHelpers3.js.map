{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nconst form = document.querySelector('.feedback-form');\nconst emailInput = document.querySelector('input[name=\"email\"]');\nconst messageInput = document.querySelector('textarea[name=\"message\"]');\n\nconst LS_KEY = 'feedback-form-state';\n\nconst loadFromLocalStorage = () => {\n  return JSON.parse(localStorage.getItem(LS_KEY)) || {};\n};\n\nconst saveToLocalStorage = throttle(() => {\n  const feedbackState = {\n    email: emailInput.value,\n    message: messageInput.value,\n  };\n  localStorage.setItem(LS_KEY, JSON.stringify(feedbackState));\n}, 1000);\n\nconst onSubmit = event => {\n  event.preventDefault();\n  const submittedObject = loadFromLocalStorage();\n  form.reset();\n  localStorage.removeItem(LS_KEY);\n  console.log(submittedObject);\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const { email = '', message = '' } = loadFromLocalStorage();\n  emailInput.value = email;\n  messageInput.value = message;\n\n  emailInput.addEventListener('input', saveToLocalStorage);\n  messageInput.addEventListener('input', saveToLocalStorage);\n});\n\nform.addEventListener('submit', onSubmit);\n"],"names":["form","emailInput","messageInput","LS_KEY","loadFromLocalStorage","saveToLocalStorage","throttle","feedbackState","onSubmit","event","submittedObject","email","message"],"mappings":"wIACA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAa,SAAS,cAAc,qBAAqB,EACzDC,EAAe,SAAS,cAAc,0BAA0B,EAEhEC,EAAS,sBAETC,EAAuB,IACpB,KAAK,MAAM,aAAa,QAAQD,CAAM,CAAC,GAAK,GAG/CE,EAAqBC,EAAS,IAAM,CACxC,MAAMC,EAAgB,CACpB,MAAON,EAAW,MAClB,QAASC,EAAa,KAC1B,EACE,aAAa,QAAQC,EAAQ,KAAK,UAAUI,CAAa,CAAC,CAC5D,EAAG,GAAI,EAEDC,EAAWC,GAAS,CACxBA,EAAM,eAAc,EACpB,MAAMC,EAAkBN,IACxBJ,EAAK,MAAK,EACV,aAAa,WAAWG,CAAM,EAC9B,QAAQ,IAAIO,CAAe,CAC7B,EAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,KAAM,CAAE,MAAAC,EAAQ,GAAI,QAAAC,EAAU,EAAE,EAAKR,IACrCH,EAAW,MAAQU,EACnBT,EAAa,MAAQU,EAErBX,EAAW,iBAAiB,QAASI,CAAkB,EACvDH,EAAa,iBAAiB,QAASG,CAAkB,CAC3D,CAAC,EAEDL,EAAK,iBAAiB,SAAUQ,CAAQ"}